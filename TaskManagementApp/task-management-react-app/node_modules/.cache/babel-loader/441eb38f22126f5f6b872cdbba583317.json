{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\u05DE\\u05E9\\u05EA\\u05DE\\u05E9\\\\Desktop\\\\TaskManagementApp\\\\TaskManagementApp\\\\task-management-react-app\\\\src\\\\components\\\\TasksList.tsx\";\nimport React from 'react';\nimport TaskItem from './TaskItem';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass TaskList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: null,\n      isLoaded: false,\n      tasks: this.props.tasks\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    // You don't have to do this check first, but it can help prevent an unneeded render\n    if (nextProps.tasks !== this.state.tasks) {\n      this.setState({\n        tasks: nextProps.tasks\n      });\n    }\n  }\n\n  loadTasks() {\n    const requestOptions = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      mode: 'cors',\n      body: JSON.stringify({})\n    };\n    fetch('api/TaskManagementApi/GetTasks', requestOptions).then(async response => {\n      debugger;\n      const data = await response.json(); // check for error response\n\n      if (!response.ok) {\n        // get error message from body or default to response status\n        const error = data && data.message || response.status;\n        return Promise.reject(error);\n      }\n\n      this.setState({\n        tasks: data.tasks\n      });\n    }).catch(error => {\n      //this.setState({ errorMessage: error.toString() });\n      console.error('There was an error!', error);\n    });\n  }\n\n  render() {\n    const {\n      error,\n      isLoaded,\n      tasks\n    } = this.state;\n    var tasksList = this.state.tasks.map((task, index) => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(TaskItem, {\n          task: task\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 17\n        }, this)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 20\n      }, this);\n    });\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-header h4\",\n        children: \"Tasks list\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: tasksList || 'List is empty'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-footer\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn btn-primary\",\n          onClick: this.loadTasks.bind(this),\n          children: \"Load tasks\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default TaskList;","map":{"version":3,"sources":["C:/Users/משתמש/Desktop/TaskManagementApp/TaskManagementApp/task-management-react-app/src/components/TasksList.tsx"],"names":["React","TaskItem","TaskList","Component","constructor","props","state","error","isLoaded","tasks","componentWillReceiveProps","nextProps","setState","loadTasks","requestOptions","method","headers","mode","body","JSON","stringify","fetch","then","response","data","json","ok","message","status","Promise","reject","catch","console","render","tasksList","map","task","index","bind"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAOC,QAAP,MAAqB,YAArB;;;AAUA,MAAMC,QAAN,SAAuBF,KAAK,CAACG,SAA7B,CAAuD;AACnDC,EAAAA,WAAW,CAACC,KAAD,EAAgB;AACvB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,KAAK,EAAE,IADE;AAETC,MAAAA,QAAQ,EAAE,KAFD;AAGTC,MAAAA,KAAK,EAAE,KAAKJ,KAAL,CAAWI;AAHT,KAAb;AAKH;;AAEDC,EAAAA,yBAAyB,CAACC,SAAD,EAAoB;AACzC;AACA,QAAIA,SAAS,CAACF,KAAV,KAAoB,KAAKH,KAAL,CAAWG,KAAnC,EAA0C;AACtC,WAAKG,QAAL,CAAc;AAAEH,QAAAA,KAAK,EAAEE,SAAS,CAACF;AAAnB,OAAd;AACH;AACJ;;AAEDI,EAAAA,SAAS,GAAG;AAER,UAAMC,cAA2B,GAAG;AAChCC,MAAAA,MAAM,EAAE,MADwB;AAEhCC,MAAAA,OAAO,EAAE;AAAE,wBAAgB;AAAlB,OAFuB;AAGhCC,MAAAA,IAAI,EAAE,MAH0B;AAIhCC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe,EAAf;AAJ0B,KAApC;AAOAC,IAAAA,KAAK,CAAC,gCAAD,EAAmCP,cAAnC,CAAL,CACKQ,IADL,CACU,MAAMC,QAAN,IAAkB;AACpB;AACA,YAAMC,IAAI,GAAG,MAAMD,QAAQ,CAACE,IAAT,EAAnB,CAFoB,CAIpB;;AACA,UAAI,CAACF,QAAQ,CAACG,EAAd,EAAkB;AACd;AACA,cAAMnB,KAAK,GAAIiB,IAAI,IAAIA,IAAI,CAACG,OAAd,IAA0BJ,QAAQ,CAACK,MAAjD;AACA,eAAOC,OAAO,CAACC,MAAR,CAAevB,KAAf,CAAP;AACH;;AAED,WAAKK,QAAL,CAAc;AAAEH,QAAAA,KAAK,EAAEe,IAAI,CAACf;AAAd,OAAd;AACH,KAbL,EAcKsB,KAdL,CAcWxB,KAAK,IAAI;AACZ;AACAyB,MAAAA,OAAO,CAACzB,KAAR,CAAc,qBAAd,EAAqCA,KAArC;AACH,KAjBL;AAkBH;;AAED0B,EAAAA,MAAM,GAAG;AAEL,UAAM;AAAE1B,MAAAA,KAAF;AAASC,MAAAA,QAAT;AAAmBC,MAAAA;AAAnB,QAA6B,KAAKH,KAAxC;AACA,QAAI4B,SAAS,GAAG,KAAK5B,KAAL,CAAWG,KAAX,CAAiB0B,GAAjB,CAAqB,CAACC,IAAD,EAAOC,KAAP,KAAiB;AAClD,0BAAO;AAAA,+BACH,QAAC,QAAD;AAAU,UAAA,IAAI,EAAED;AAAhB;AAAA;AAAA;AAAA;AAAA;AADG,SAAUC,KAAV;AAAA;AAAA;AAAA;AAAA,cAAP;AAGH,KAJe,CAAhB;AAMA,wBACI;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA,8BACI;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAII;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA,kBACKH,SAAS,IAAI;AADlB;AAAA;AAAA;AAAA;AAAA,cAJJ,eAQI;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA,+BACI;AAAQ,UAAA,IAAI,EAAC,QAAb;AAAsB,UAAA,SAAS,EAAC,iBAAhC;AAAkD,UAAA,OAAO,EAAE,KAAKrB,SAAL,CAAeyB,IAAf,CAAoB,IAApB,CAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cARJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAcH;;AArEkD;;AAuEvD,eAAepC,QAAf","sourcesContent":["import React from 'react';\r\nimport { TaskDetails } from '../entities/TaskManagmentEntities';\r\nimport TaskItem from './TaskItem';\r\ninterface IProps {\r\n    tasks: TaskDetails[],\r\n}\r\n\r\ninterface IState {\r\n    error: string | null,\r\n    isLoaded: boolean,\r\n    tasks: TaskDetails[]\r\n}\r\nclass TaskList extends React.Component<IProps, IState> {\r\n    constructor(props: IProps) {\r\n        super(props);\r\n        this.state = {\r\n            error: null,\r\n            isLoaded: false,\r\n            tasks: this.props.tasks\r\n        };\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps: IProps) {\r\n        // You don't have to do this check first, but it can help prevent an unneeded render\r\n        if (nextProps.tasks !== this.state.tasks) {\r\n            this.setState({ tasks: nextProps.tasks});\r\n        }\r\n    }\r\n\r\n    loadTasks() {\r\n\r\n        const requestOptions: RequestInit = {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            mode: 'cors',\r\n            body: JSON.stringify({})\r\n        };\r\n\r\n        fetch('api/TaskManagementApi/GetTasks', requestOptions)\r\n            .then(async response => {\r\n                debugger\r\n                const data = await response.json();\r\n\r\n                // check for error response\r\n                if (!response.ok) {\r\n                    // get error message from body or default to response status\r\n                    const error = (data && data.message) || response.status;\r\n                    return Promise.reject(error);\r\n                }\r\n\r\n                this.setState({ tasks: data.tasks })\r\n            })\r\n            .catch(error => {\r\n                //this.setState({ errorMessage: error.toString() });\r\n                console.error('There was an error!', error);\r\n            });\r\n    }\r\n\r\n    render() {\r\n\r\n        const { error, isLoaded, tasks } = this.state;\r\n        var tasksList = this.state.tasks.map((task, index) => {\r\n            return <div key={index}>\r\n                <TaskItem task={task}></TaskItem>\r\n            </div>\r\n        })\r\n\r\n        return (\r\n            <div className=\"card\">\r\n                <div className=\"card-header h4\">\r\n                   Tasks list\r\n                </div>\r\n                <div className=\"card-body\">\r\n                    {tasksList || 'List is empty'}\r\n                </div>\r\n             \r\n                <div className=\"card-footer\">\r\n                    <button type=\"button\" className=\"btn btn-primary\" onClick={this.loadTasks.bind(this)}>Load tasks</button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default TaskList"]},"metadata":{},"sourceType":"module"}